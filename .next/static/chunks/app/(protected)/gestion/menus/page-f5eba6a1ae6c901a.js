(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8331],{388:(e,s,r)=>{"use strict";r.d(s,{MenusClient:()=>S});var a=r(5155),t=r(2115),l=r(3321),n=r(5037),i=r(9356),c=r(3108),d=r(5656),o=r(1279),u=r(8784),m=r(1477),x=r(9239),h=r(5160),f=r(5283),g=r(529),p=r(9339);let v=(0,p.createServerReference)("40a0c3674a5b34e437c3cc45da628430a62c7d281e",p.callServer,void 0,p.findSourceMapURL,"upsertMenuAction");function b({isOpen:e,onClose:s,date:r,existingMenu:l,onSuccess:n}){let[i,d]=(0,t.useState)(""),[u,m]=(0,t.useState)(""),[h,p]=(0,t.useState)(!1),[b,j]=(0,t.useState)([]),[y,N]=(0,t.useState)([{name:"",courseType:"MAIN"}]),[w,S]=(0,t.useState)([]),[k,M]=(0,t.useState)(!1),[R,C]=(0,t.useState)(null),[E,A]=(0,t.useTransition)(),T=!!l;(0,t.useEffect)(()=>{l?(d(l.sideDishes||""),m(l.notes||""),p(l.isPublished),j(l.starters.length>0?l.starters.map(e=>({...e,courseType:"STARTER"})):[]),N(l.mains.length>0?l.mains.map(e=>({...e,courseType:"MAIN"})):[{name:"",courseType:"MAIN"}]),S(l.desserts.length>0?l.desserts.map(e=>({...e,courseType:"DESSERT"})):[])):(d(""),m(""),p(!1),j([]),N([{name:"",courseType:"MAIN"}]),S([]))},[l]);let $=e=>{let s={name:"",courseType:e};"STARTER"===e?j([...b,s]):"MAIN"===e?N([...y,s]):S([...w,s])},P=(e,s)=>{"STARTER"===e?j(b.filter((e,r)=>r!==s)):"MAIN"===e?N(y.filter((e,r)=>r!==s)):S(w.filter((e,r)=>r!==s))},z=(e,s,r)=>{if("STARTER"===e){let e=[...b];e[s]={...e[s],name:r},j(e)}else if("MAIN"===e){let e=[...y];e[s]={...e[s],name:r},N(e)}else{let e=[...w];e[s]={...e[s],name:r},S(e)}},L=async e=>{e.preventDefault(),C(null);let s=y.filter(e=>e.name.trim());0===s.length?C("Au moins un plat principal est requis"):(M(!0),A(async()=>{try{let e=[...b.filter(e=>e.name.trim()).map((e,s)=>({id:e.id,courseType:"STARTER",name:e.name.trim(),sortOrder:s})),...s.map((e,s)=>({id:e.id,courseType:"MAIN",name:e.name.trim(),sortOrder:s})),...w.filter(e=>e.name.trim()).map((e,s)=>({id:e.id,courseType:"DESSERT",name:e.name.trim(),sortOrder:s}))];await v({menuId:l?.id,date:(0,c.GP)(r,"yyyy-MM-dd"),sideDishes:i.trim()||null,notes:u.trim()||null,isPublished:h,options:e}),n()}catch(e){C(e instanceof Error?e.message:"Une erreur est survenue")}finally{M(!1)}}))};return e?(0,a.jsxs)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:s}),(0,a.jsx)("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"relative bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 rounded-t-xl",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:T?"Modifier le menu":"Cr\xe9er un menu"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:(0,c.GP)(r,"EEEE d MMMM yyyy",{locale:o.fr})})]}),(0,a.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-500",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,a.jsxs)("form",{onSubmit:L,className:"p-6 space-y-6",children:[R&&(0,a.jsx)(f.F,{variant:"error",children:R}),(0,a.jsx)("div",{children:(0,a.jsx)(g.p,{label:"Accompagnements",value:i,onChange:e=>d(e.target.value),placeholder:"Riz, Grains, L\xe9gumes vapeur...",helperText:"Accompagnements communs \xe0 tous les plats"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Entr\xe9es"}),(0,a.jsx)(x.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>$("STARTER"),children:"+ Ajouter"})]}),0===b.length?(0,a.jsx)("p",{className:"text-sm text-gray-400 italic",children:"Aucune entr\xe9e"}):(0,a.jsx)("div",{className:"space-y-2",children:b.map((e,s)=>(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(g.p,{value:e.name,onChange:e=>z("STARTER",s,e.target.value),placeholder:"Nom de l'entr\xe9e",className:"flex-1"}),(0,a.jsx)(x.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>P("STARTER",s),className:"text-red-500",children:"\xd7"})]},s))})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Plats principaux *"}),(0,a.jsx)(x.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>$("MAIN"),children:"+ Ajouter"})]}),(0,a.jsx)("div",{className:"space-y-2",children:y.map((e,s)=>(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(g.p,{value:e.name,onChange:e=>z("MAIN",s,e.target.value),placeholder:"Nom du plat",className:"flex-1",required:0===s}),y.length>1&&(0,a.jsx)(x.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>P("MAIN",s),className:"text-red-500",children:"\xd7"})]},s))})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Desserts"}),(0,a.jsx)(x.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>$("DESSERT"),children:"+ Ajouter"})]}),0===w.length?(0,a.jsx)("p",{className:"text-sm text-gray-400 italic",children:"Aucun dessert"}):(0,a.jsx)("div",{className:"space-y-2",children:w.map((e,s)=>(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(g.p,{value:e.name,onChange:e=>z("DESSERT",s,e.target.value),placeholder:"Nom du dessert",className:"flex-1"}),(0,a.jsx)(x.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>P("DESSERT",s),className:"text-red-500",children:"\xd7"})]},s))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes (optionnel)"}),(0,a.jsx)("textarea",{value:u,onChange:e=>m(e.target.value),placeholder:"Informations suppl\xe9mentaires...",rows:2,className:"block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-rasf-500 focus:border-rasf-500"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("input",{type:"checkbox",id:"isPublished",checked:h,onChange:e=>p(e.target.checked),className:"w-4 h-4 rounded border-gray-300 text-rasf-600 focus:ring-rasf-500"}),(0,a.jsx)("label",{htmlFor:"isPublished",className:"text-sm text-gray-700",children:"Publier ce menu (visible par les agents)"})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[(0,a.jsx)(x.$,{type:"button",variant:"secondary",onClick:s,className:"flex-1",children:"Annuler"}),(0,a.jsx)(x.$,{type:"submit",isLoading:k||E,className:"flex-1",children:T?"Enregistrer":"Cr\xe9er le menu"})]})]})]})})]}):null}let j=(0,p.createServerReference)("403dea9097f01276852e972983f77fac9c3eca9bd7",p.callServer,void 0,p.findSourceMapURL,"duplicateWeekAction");function y({isOpen:e,onClose:s,onSuccess:r}){let l=new Date,d=(0,n.k)(l,{weekStartsOn:1}),u=Array.from({length:8},(e,s)=>{let r=(0,i.J)(d,-s-1);return{value:(0,c.GP)(r,"yyyy-MM-dd"),label:`Semaine du ${(0,c.GP)(r,"d MMMM",{locale:o.fr})}`,start:r}}),m=Array.from({length:4},(e,s)=>{let r=(0,i.J)(d,s);return{value:(0,c.GP)(r,"yyyy-MM-dd"),label:`Semaine du ${(0,c.GP)(r,"d MMMM",{locale:o.fr})}`,start:r}}),[h,g]=(0,t.useState)(u[0].value),[p,v]=(0,t.useState)(m[1].value),[b,y]=(0,t.useState)(!1),[N,w]=(0,t.useState)(!1),[S,k]=(0,t.useState)(null),[M,R]=(0,t.useState)(null),[C,E]=(0,t.useTransition)(),A=async e=>{e.preventDefault(),k(null),R(null),w(!0),E(async()=>{try{let e=await j({sourceWeekStart:h,targetWeekStart:p,overwrite:b});R({created:e.created??0,skipped:e.skipped??0}),e.created>0&&setTimeout(()=>{r()},1200)}catch(e){k(e instanceof Error?e.message:"Une erreur est survenue")}finally{w(!1)}})};return e?(0,a.jsxs)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:s}),(0,a.jsx)("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"relative bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Dupliquer une semaine"}),(0,a.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-500",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),S&&(0,a.jsx)(f.F,{variant:"error",className:"mb-4",children:S}),M&&(0,a.jsxs)(f.F,{variant:"success",className:"mb-4",children:[M.created," menu(s) cr\xe9\xe9(s), ",M.skipped," ignor\xe9(s)"]}),(0,a.jsxs)("form",{onSubmit:A,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Copier depuis"}),(0,a.jsx)("select",{value:h,onChange:e=>g(e.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-rasf-500 focus:border-rasf-500",children:u.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vers la semaine"}),(0,a.jsx)("select",{value:p,onChange:e=>v(e.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-rasf-500 focus:border-rasf-500",children:m.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-amber-50 rounded-lg",children:[(0,a.jsx)("input",{type:"checkbox",id:"overwrite",checked:b,onChange:e=>y(e.target.checked),className:"w-4 h-4 rounded border-gray-300 text-rasf-600 focus:ring-rasf-500"}),(0,a.jsx)("label",{htmlFor:"overwrite",className:"text-sm text-amber-800",children:"\xc9craser les menus existants"})]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["Les menus de la semaine source seront copi\xe9s vers la semaine cible.",!b&&" Les jours ayant d\xe9j\xe0 un menu seront ignor\xe9s."]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,a.jsx)(x.$,{type:"button",variant:"secondary",onClick:s,className:"flex-1",children:"Annuler"}),(0,a.jsx)(x.$,{type:"submit",isLoading:N||C,className:"flex-1",children:"Dupliquer"})]})]})]})})]}):null}let N=(0,p.createServerReference)("6031397e009d8e1e7f4d30dffca337d9385b9eb154",p.callServer,void 0,p.findSourceMapURL,"togglePublishMenuAction"),w=(0,p.createServerReference)("4026ceb679b961294090ad1d12a1b7df3ddc8b1f92",p.callServer,void 0,p.findSourceMapURL,"deleteMenuAction");function S({weekStart:e,weekDays:s,menus:r}){let g=(0,l.useRouter)(),[p,v]=(0,t.useState)(null),[j,S]=(0,t.useState)(null),[k,M]=(0,t.useState)(null),[R,C]=(0,t.useState)(!1),[E,A]=(0,t.useState)(null),[T,$]=(0,t.useTransition)();(0,t.useEffect)(()=>{v(new Date)},[]);let P=(0,t.useMemo)(()=>{let e=new Map;return r.forEach(s=>e.set(new Date(s.date).toDateString(),s)),e},[r]),z=(0,t.useMemo)(()=>(0,n.k)(new Date(e),{weekStartsOn:1}),[e]),L=s.map(e=>new Date(e)),D=e=>P.get(e.toDateString()),O=()=>{S(null),M(null)},I=e=>{let s=(0,i.J)(z,e),r=(0,c.GP)(s,"yyyy-MM-dd");g.push(`/gestion/menus?week=${r}`)},B=k&&r.find(e=>e.id===k)||null;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.z,{title:"Gestion des menus",description:"Cr\xe9ez et modifiez les menus de la semaine",actions:(0,a.jsx)(x.$,{onClick:()=>C(!0),children:"Dupliquer une semaine"})}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)(x.$,{variant:"outline",size:"sm",onClick:()=>I(-1),disabled:T,children:"← Semaine pr\xe9c\xe9dente"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Semaine du ",(0,c.GP)(z,"d MMMM yyyy",{locale:o.fr})]}),(0,a.jsx)(x.$,{variant:"outline",size:"sm",onClick:()=>I(1),disabled:T,children:"Semaine suivante →"})]}),E&&(0,a.jsx)(f.F,{variant:"error",className:"mb-6",children:E}),(0,a.jsx)("div",{className:"space-y-4",children:L.map(e=>{let s=D(e),r=!!p&&(0,d.r)(e,p);return(0,a.jsx)(m.Zp,{className:r?"ring-2 ring-rasf-500":"",children:(0,a.jsx)(m.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-start gap-4",children:[(0,a.jsxs)("div",{className:"md:w-32 flex-shrink-0",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 capitalize",children:(0,c.GP)(e,"EEEE",{locale:o.fr})}),(0,a.jsx)("p",{className:"text-xl font-bold text-gray-900",children:(0,c.GP)(e,"d MMMM",{locale:o.fr})}),r&&(0,a.jsx)(h.Ex,{variant:"info",className:"mt-1",children:"Aujourd'hui"})]}),(0,a.jsx)("div",{className:"flex-1",children:s?(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(h.Ex,{variant:s.isPublished?"success":"warning",children:s.isPublished?"Publi\xe9":"Brouillon"})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-sm",children:[s.starters.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 uppercase font-medium",children:"Entr\xe9es"}),(0,a.jsx)("ul",{className:"text-gray-700",children:s.starters.map(e=>(0,a.jsxs)("li",{children:["• ",e.name]},e.id))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 uppercase font-medium",children:"Plats"}),(0,a.jsx)("ul",{className:"text-gray-700",children:s.mains.map(e=>(0,a.jsxs)("li",{children:["• ",e.name]},e.id))})]}),s.desserts.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 uppercase font-medium",children:"Desserts"}),(0,a.jsx)("ul",{className:"text-gray-700",children:s.desserts.map(e=>(0,a.jsxs)("li",{children:["• ",e.name]},e.id))})]})]}),s.sideDishes&&(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[(0,a.jsx)("span",{className:"font-medium",children:"Accompagnements :"})," ",s.sideDishes]})]}):(0,a.jsx)("div",{className:"text-gray-400 italic",children:"Pas de menu d\xe9fini"})}),(0,a.jsxs)("div",{className:"flex gap-2 md:flex-col",children:[(0,a.jsx)(x.$,{variant:"outline",size:"sm",onClick:()=>{let s;return s=D(e),void(S(e.toISOString()),M(s?.id??null))},children:s?"Modifier":"Cr\xe9er"}),s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.$,{variant:"ghost",size:"sm",onClick:()=>{$(async()=>{A(null);try{await N(s.id,!s.isPublished),g.refresh()}catch(e){A(e instanceof Error?e.message:"Erreur lors de la mise \xe0 jour")}})},disabled:T,children:s.isPublished?"D\xe9publier":"Publier"}),(0,a.jsx)(x.$,{variant:"ghost",size:"sm",onClick:()=>{confirm("\xcates-vous s\xfbr de vouloir supprimer ce menu ?")&&$(async()=>{A(null);try{await w(s.id),g.refresh()}catch(e){A(e instanceof Error?e.message:"Erreur lors de la suppression")}})},className:"text-red-600 hover:text-red-700 hover:bg-red-50",disabled:T,children:"Supprimer"})]})]})]})})},e.toISOString())})}),j&&(0,a.jsx)(b,{isOpen:!0,onClose:O,date:new Date(j),existingMenu:B,onSuccess:()=>{O(),g.refresh()}}),R&&(0,a.jsx)(y,{isOpen:!0,onClose:()=>C(!1),onSuccess:()=>{C(!1),g.refresh()}})]})}},529:(e,s,r)=>{"use strict";r.d(s,{p:()=>t});var a=r(5155);let t=(0,r(2115).forwardRef)(({label:e,error:s,helperText:r,className:t="",id:l,...n},i)=>{let c=l||e?.toLowerCase().replace(/\s/g,"-");return(0,a.jsxs)("div",{className:"w-full",children:[e&&(0,a.jsx)("label",{htmlFor:c,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),(0,a.jsx)("input",{ref:i,id:c,className:`
            block w-full px-3 py-2 
            bg-white text-gray-900
            border rounded-lg shadow-sm
            placeholder-gray-400
            focus:outline-none focus:ring-2 focus:ring-rasf-500 focus:border-rasf-500
            disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed
            ${s?"border-red-500":"border-gray-300"}
            ${t}
          `,suppressHydrationWarning:!0,...n}),s&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:s}),r&&!s&&(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:r})]})});t.displayName="Input"},1477:(e,s,r)=>{"use strict";r.d(s,{Wu:()=>c,ZB:()=>i,Zp:()=>l,aR:()=>n});var a=r(5155),t=r(2115);let l=(0,t.forwardRef)(({variant:e="default",className:s="",children:r,...t},l)=>(0,a.jsx)("div",{ref:l,className:`rounded-xl p-6 ${{default:"bg-white border border-gray-200",bordered:"bg-white border-2 border-gray-300",elevated:"bg-white shadow-lg"}[e]} ${s}`,...t,children:r}));l.displayName="Card";let n=(0,t.forwardRef)(({className:e="",children:s,...r},t)=>(0,a.jsx)("div",{ref:t,className:`mb-4 ${e}`,...r,children:s}));n.displayName="CardHeader";let i=(0,t.forwardRef)(({className:e="",children:s,...r},t)=>(0,a.jsx)("h3",{ref:t,className:`text-lg font-semibold text-gray-900 ${e}`,...r,children:s}));i.displayName="CardTitle";let c=(0,t.forwardRef)(({className:e="",children:s,...r},t)=>(0,a.jsx)("div",{ref:t,className:e,...r,children:s}));c.displayName="CardContent"},1964:(e,s,r)=>{"use strict";r.d(s,{f:()=>l});var a=r(1993),t=r(2477);function l(e,s,r){let l=(0,t.a)(e,r?.in);return isNaN(s)?(0,a.w)(r?.in||e,NaN):(s&&l.setDate(l.getDate()+s),l)}},3321:(e,s,r)=>{"use strict";var a=r(4645);r.o(a,"usePathname")&&r.d(s,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(s,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(s,{useSearchParams:function(){return a.useSearchParams}})},5160:(e,s,r)=>{"use strict";r.d(s,{Ex:()=>n,NH:()=>i,Wh:()=>c});var a=r(5155),t=r(2115);let l={default:"bg-gray-100 text-gray-800",success:"bg-green-100 text-green-800",warning:"bg-amber-100 text-amber-800",danger:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800",surplace:"bg-blue-100 text-blue-800",emporter:"bg-amber-100 text-amber-800"},n=(0,t.forwardRef)(({variant:e="default",className:s="",children:r,...t},n)=>(0,a.jsx)("span",{ref:n,className:`
          inline-flex items-center px-2.5 py-0.5 rounded-full 
          text-xs font-medium
          ${l[e]}
          ${s}
        `,...t,children:r}));function i({mode:e}){return"SUR_PLACE"===e?(0,a.jsxs)(n,{variant:"surplace",children:[(0,a.jsx)("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Sur place"]}):(0,a.jsxs)(n,{variant:"emporter",children:[(0,a.jsx)("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),"\xc0 emporter"]})}function c({status:e}){let{variant:s,label:r}={BOOKED:{variant:"success",label:"R\xe9serv\xe9"},SERVED:{variant:"info",label:"Servi"},NO_SHOW:{variant:"danger",label:"Non venu"}}[e];return(0,a.jsx)(n,{variant:s,children:r})}n.displayName="Badge"},5283:(e,s,r)=>{"use strict";r.d(s,{F:()=>i});var a=r(5155),t=r(2115);let l={info:{container:"bg-blue-50 border-blue-200 text-blue-800",icon:"text-blue-400"},success:{container:"bg-green-50 border-green-200 text-green-800",icon:"text-green-400"},warning:{container:"bg-amber-50 border-amber-200 text-amber-800",icon:"text-amber-400"},error:{container:"bg-red-50 border-red-200 text-red-800",icon:"text-red-400"}},n={info:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),success:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),warning:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),error:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})},i=(0,t.forwardRef)(({variant:e="info",title:s,className:r="",children:t,...i},c)=>{let d=l[e];return(0,a.jsxs)("div",{ref:c,className:`
          flex items-start p-4 border rounded-lg
          ${d.container}
          ${r}
        `,role:"alert",...i,children:[(0,a.jsx)("div",{className:`flex-shrink-0 ${d.icon}`,children:n[e]}),(0,a.jsxs)("div",{className:"ml-3",children:[s&&(0,a.jsx)("h3",{className:"text-sm font-medium",children:s}),(0,a.jsx)("div",{className:`text-sm ${s?"mt-1":""}`,children:t})]})]})});i.displayName="Alert"},5656:(e,s,r)=>{"use strict";r.d(s,{r:()=>l});var a=r(61),t=r(1385);function l(e,s,r){let[l,n]=(0,a.x)(r?.in,e,s);return+(0,t.o)(l)==+(0,t.o)(n)}},7683:(e,s,r)=>{Promise.resolve().then(r.bind(r,388))},8784:(e,s,r)=>{"use strict";r.d(s,{z:()=>t});var a=r(5155);function t({title:e,description:s,actions:r}){return(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:e}),s&&(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:s})]}),r&&(0,a.jsx)("div",{className:"flex gap-3",children:r})]})})}},9239:(e,s,r)=>{"use strict";r.d(s,{$:()=>i});var a=r(5155),t=r(2115);let l={primary:"bg-rasf-600 text-white hover:bg-rasf-700 focus:ring-rasf-500 disabled:bg-rasf-300",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 focus:ring-gray-500 disabled:bg-gray-50",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 disabled:bg-red-300",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500",outline:"bg-transparent text-rasf-600 border-2 border-rasf-600 hover:bg-rasf-50 focus:ring-rasf-500"},n={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"},i=(0,t.forwardRef)(({variant:e="primary",size:s="md",isLoading:r=!1,fullWidth:t=!1,className:i="",disabled:c,children:d,...o},u)=>(0,a.jsxs)("button",{ref:u,disabled:c||r,className:`
          inline-flex items-center justify-center font-medium rounded-lg
          transition-colors duration-200
          focus:outline-none focus:ring-2 focus:ring-offset-2
          disabled:cursor-not-allowed
          ${l[e]}
          ${n[s]}
          ${t?"w-full":""}
          ${i}
        `,...o,children:[r&&(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d]}));i.displayName="Button"},9339:(e,s,r)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a={callServer:function(){return l.callServer},createServerReference:function(){return i.createServerReference},findSourceMapURL:function(){return n.findSourceMapURL}};for(var t in a)Object.defineProperty(s,t,{enumerable:!0,get:a[t]});let l=r(7304),n=r(4060),i=r(7197)},9356:(e,s,r)=>{"use strict";r.d(s,{J:()=>t});var a=r(1964);function t(e,s,r){return(0,a.f)(e,7*s,r)}}},e=>{e.O(0,[8746,8441,6511,7358],()=>e(e.s=7683)),_N_E=e.O()}]);