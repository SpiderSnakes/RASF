(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4163],{1237:(e,s,r)=>{"use strict";r.d(s,{InstallPrompt:()=>i});var t=r(5155),a=r(2115),n=r(9239);function i(){let[e,s]=(0,a.useState)(null),[r,i]=(0,a.useState)(!1),[l,o]=(0,a.useState)(!1);(0,a.useEffect)(()=>{if(window.matchMedia("(display-mode: standalone)").matches)return void o(!0);let e=e=>{e.preventDefault(),s(e),setTimeout(()=>{localStorage.getItem("pwa-install-dismissed")||i(!0)},3e3)},r=()=>{o(!0),i(!1),s(null)};return window.addEventListener("beforeinstallprompt",e),window.addEventListener("appinstalled",r),()=>{window.removeEventListener("beforeinstallprompt",e),window.removeEventListener("appinstalled",r)}},[]);let d=async()=>{if(!e)return;await e.prompt();let{outcome:r}=await e.userChoice;"accepted"===r&&o(!0),i(!1),s(null)},c=()=>{i(!1),localStorage.setItem("pwa-install-dismissed",Date.now().toString())};return l||!r?null:(0,t.jsx)("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-96 bg-white rounded-lg shadow-lg border border-gray-200 p-4 z-50 animate-slide-up",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("div",{className:"w-12 h-12 bg-rasf-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-rasf-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})})})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 text-sm",children:"Installer RASF Cantine"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-0.5",children:"Accedez rapidement a vos reservations depuis votre ecran d'accueil"}),(0,t.jsxs)("div",{className:"flex gap-2 mt-3",children:[(0,t.jsx)(n.$,{size:"sm",onClick:d,children:"Installer"}),(0,t.jsx)(n.$,{variant:"ghost",size:"sm",onClick:c,children:"Plus tard"})]})]}),(0,t.jsx)("button",{onClick:c,className:"flex-shrink-0 text-gray-400 hover:text-gray-600","aria-label":"Fermer",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}},3093:(e,s,r)=>{"use strict";r.d(s,{Navbar:()=>c});var t=r(5155),a=r(8500),n=r.n(a),i=r(3321),l=r(7882),o=r(2115),d=r(9239);function c(){let{data:e}=(0,l.useSession)(),s=(0,i.usePathname)(),[r,a]=(0,o.useState)(!1),c=[{name:"Mes r\xe9servations",href:"/dashboard",roles:["AGENT","GESTIONNAIRE","ADMIN"]},{name:"Gestion",href:"/gestion",roles:["GESTIONNAIRE","ADMIN"]},{name:"Administration",href:"/admin",roles:["ADMIN"]}].filter(s=>e?.user&&s.roles.includes(e.user.role));return(0,t.jsxs)("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:[(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between h-16",children:[(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsxs)(n(),{href:"/dashboard",className:"flex items-center",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-rasf-600 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-white text-sm font-bold",children:"R"})}),(0,t.jsx)("span",{className:"ml-2 text-lg font-semibold text-gray-900 hidden sm:block",children:"RASF"})]}),(0,t.jsx)("div",{className:"hidden sm:ml-8 sm:flex sm:space-x-4",children:c.map(e=>{let r;return(0,t.jsx)(n(),{href:e.href,className:`
                    inline-flex items-center px-3 py-2 text-sm font-medium rounded-md
                    transition-colors duration-200
                    ${(r=e.href,s.startsWith(r))?"bg-rasf-50 text-rasf-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}
                  `,children:e.name},e.name)})})]}),(0,t.jsx)("div",{className:"hidden sm:flex sm:items-center sm:space-x-4",children:e?.user&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:[e.user.firstName," ",e.user.lastName]}),(0,t.jsx)(d.$,{variant:"ghost",size:"sm",onClick:()=>(0,l.signOut)({callbackUrl:"/auth/login"}),children:"D\xe9connexion"})]})}),(0,t.jsx)("div",{className:"flex items-center sm:hidden",children:(0,t.jsxs)("button",{type:"button",onClick:()=>a(!r),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-500 hover:text-gray-700 hover:bg-gray-100",children:[(0,t.jsx)("span",{className:"sr-only",children:"Ouvrir le menu"}),r?(0,t.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):(0,t.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})]})})]})}),r&&(0,t.jsxs)("div",{className:"sm:hidden border-t border-gray-200",children:[(0,t.jsx)("div",{className:"pt-2 pb-3 space-y-1",children:c.map(e=>{let r;return(0,t.jsx)(n(),{href:e.href,onClick:()=>a(!1),className:`
                  block px-4 py-2 text-base font-medium
                  ${(r=e.href,s.startsWith(r))?"bg-rasf-50 text-rasf-700 border-l-4 border-rasf-500":"text-gray-600 hover:bg-gray-50"}
                `,children:e.name},e.name)})}),e?.user&&(0,t.jsxs)("div",{className:"pt-4 pb-3 border-t border-gray-200",children:[(0,t.jsxs)("div",{className:"px-4 mb-3",children:[(0,t.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[e.user.firstName," ",e.user.lastName]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:e.user.email})]}),(0,t.jsx)("div",{className:"px-4",children:(0,t.jsx)(d.$,{variant:"ghost",size:"sm",fullWidth:!0,onClick:()=>(0,l.signOut)({callbackUrl:"/auth/login"}),children:"D\xe9connexion"})})]})]})]})}},3321:(e,s,r)=>{"use strict";var t=r(4645);r.o(t,"usePathname")&&r.d(s,{usePathname:function(){return t.usePathname}}),r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}}),r.o(t,"useSearchParams")&&r.d(s,{useSearchParams:function(){return t.useSearchParams}})},6432:(e,s,r)=>{Promise.resolve().then(r.t.bind(r,8500,23)),Promise.resolve().then(r.bind(r,3093)),Promise.resolve().then(r.bind(r,7124)),Promise.resolve().then(r.bind(r,1237))},7124:(e,s,r)=>{"use strict";r.d(s,{Providers:()=>n});var t=r(5155),a=r(7882);function n({children:e}){return(0,t.jsx)(a.SessionProvider,{children:e})}},9239:(e,s,r)=>{"use strict";r.d(s,{$:()=>l});var t=r(5155),a=r(2115);let n={primary:"bg-rasf-600 text-white hover:bg-rasf-700 focus:ring-rasf-500 disabled:bg-rasf-300",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 focus:ring-gray-500 disabled:bg-gray-50",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 disabled:bg-red-300",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500",outline:"bg-transparent text-rasf-600 border-2 border-rasf-600 hover:bg-rasf-50 focus:ring-rasf-500"},i={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"},l=(0,a.forwardRef)(({variant:e="primary",size:s="md",isLoading:r=!1,fullWidth:a=!1,className:l="",disabled:o,children:d,...c},m)=>(0,t.jsxs)("button",{ref:m,disabled:o||r,className:`
          inline-flex items-center justify-center font-medium rounded-lg
          transition-colors duration-200
          focus:outline-none focus:ring-2 focus:ring-offset-2
          disabled:cursor-not-allowed
          ${n[e]}
          ${i[s]}
          ${a?"w-full":""}
          ${l}
        `,...c,children:[r&&(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d]}));l.displayName="Button"}},e=>{e.O(0,[8500,7882,8441,6511,7358],()=>e(e.s=6432)),_N_E=e.O()}]);