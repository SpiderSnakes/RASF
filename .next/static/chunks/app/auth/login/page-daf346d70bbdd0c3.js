(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4859],{529:(e,r,a)=>{"use strict";a.d(r,{p:()=>t});var s=a(5155);let t=(0,a(2115).forwardRef)(({label:e,error:r,helperText:a,className:t="",id:l,...n},d)=>{let i=l||e?.toLowerCase().replace(/\s/g,"-");return(0,s.jsxs)("div",{className:"w-full",children:[e&&(0,s.jsx)("label",{htmlFor:i,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),(0,s.jsx)("input",{ref:d,id:i,className:`
            block w-full px-3 py-2 
            bg-white text-gray-900
            border rounded-lg shadow-sm
            placeholder-gray-400
            focus:outline-none focus:ring-2 focus:ring-rasf-500 focus:border-rasf-500
            disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed
            ${r?"border-red-500":"border-gray-300"}
            ${t}
          `,suppressHydrationWarning:!0,...n}),r&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:r}),a&&!r&&(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:a})]})});t.displayName="Input"},1477:(e,r,a)=>{"use strict";a.d(r,{Wu:()=>i,ZB:()=>d,Zp:()=>l,aR:()=>n});var s=a(5155),t=a(2115);let l=(0,t.forwardRef)(({variant:e="default",className:r="",children:a,...t},l)=>(0,s.jsx)("div",{ref:l,className:`rounded-xl p-6 ${{default:"bg-white border border-gray-200",bordered:"bg-white border-2 border-gray-300",elevated:"bg-white shadow-lg"}[e]} ${r}`,...t,children:a}));l.displayName="Card";let n=(0,t.forwardRef)(({className:e="",children:r,...a},t)=>(0,s.jsx)("div",{ref:t,className:`mb-4 ${e}`,...a,children:r}));n.displayName="CardHeader";let d=(0,t.forwardRef)(({className:e="",children:r,...a},t)=>(0,s.jsx)("h3",{ref:t,className:`text-lg font-semibold text-gray-900 ${e}`,...a,children:r}));d.displayName="CardTitle";let i=(0,t.forwardRef)(({className:e="",children:r,...a},t)=>(0,s.jsx)("div",{ref:t,className:e,...a,children:r}));i.displayName="CardContent"},3321:(e,r,a)=>{"use strict";var s=a(4645);a.o(s,"usePathname")&&a.d(r,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(r,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(r,{useSearchParams:function(){return s.useSearchParams}})},5283:(e,r,a)=>{"use strict";a.d(r,{F:()=>d});var s=a(5155),t=a(2115);let l={info:{container:"bg-blue-50 border-blue-200 text-blue-800",icon:"text-blue-400"},success:{container:"bg-green-50 border-green-200 text-green-800",icon:"text-green-400"},warning:{container:"bg-amber-50 border-amber-200 text-amber-800",icon:"text-amber-400"},error:{container:"bg-red-50 border-red-200 text-red-800",icon:"text-red-400"}},n={info:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),success:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),warning:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),error:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})},d=(0,t.forwardRef)(({variant:e="info",title:r,className:a="",children:t,...d},i)=>{let o=l[e];return(0,s.jsxs)("div",{ref:i,className:`
          flex items-start p-4 border rounded-lg
          ${o.container}
          ${a}
        `,role:"alert",...d,children:[(0,s.jsx)("div",{className:`flex-shrink-0 ${o.icon}`,children:n[e]}),(0,s.jsxs)("div",{className:"ml-3",children:[r&&(0,s.jsx)("h3",{className:"text-sm font-medium",children:r}),(0,s.jsx)("div",{className:`text-sm ${r?"mt-1":""}`,children:t})]})]})});d.displayName="Alert"},5851:(e,r,a)=>{Promise.resolve().then(a.bind(a,8735))},8735:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>f});var s=a(5155),t=a(2115),l=a(7882),n=a(3321),d=a(8500),i=a.n(d),o=a(9239),c=a(529),u=a(5283),m=a(1477);function x(){let e=(0,n.useRouter)(),r=(0,n.useSearchParams)(),a=r.get("callbackUrl")||"/dashboard",d=r.get("error"),[x,f]=(0,t.useState)(""),[h,g]=(0,t.useState)(""),[b,p]=(0,t.useState)(!1),[v,y]=(0,t.useState)(null),j=async r=>{r.preventDefault(),p(!0),y(null);try{let r=await (0,l.signIn)("credentials",{email:x,password:h,redirect:!1});r?.error?y(r.error):(e.push(a),e.refresh())}catch{y("Une erreur est survenue. Veuillez r\xe9essayer.")}finally{p(!1)}};return(0,s.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 bg-gradient-to-br from-rasf-50 to-rasf-100",children:(0,s.jsxs)("div",{className:"w-full max-w-md",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("div",{className:"w-16 h-16 rounded-full bg-rasf-600 flex items-center justify-center mx-auto shadow-lg",children:(0,s.jsx)("span",{className:"text-white text-2xl font-bold",children:"R"})}),(0,s.jsx)("h1",{className:"mt-4 text-2xl font-bold text-gray-900",children:"RASF"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Restaurant Administratif de Saint-Pierre"})]}),(0,s.jsxs)(m.Zp,{variant:"elevated",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6 text-center",children:"Connexion"}),(d||v)&&(0,s.jsx)(u.F,{variant:"error",className:"mb-4",children:v||"Erreur de connexion. Veuillez r\xe9essayer."}),(0,s.jsxs)("form",{onSubmit:j,className:"space-y-4",children:[(0,s.jsx)(c.p,{label:"Email",type:"email",value:x,onChange:e=>f(e.target.value),placeholder:"votre.email@exemple.fr",required:!0,autoComplete:"email"}),(0,s.jsx)(c.p,{label:"Mot de passe",type:"password",value:h,onChange:e=>g(e.target.value),placeholder:"••••••••",required:!0,autoComplete:"current-password"}),(0,s.jsx)("div",{className:"flex items-center justify-end",children:(0,s.jsx)(i(),{href:"/auth/forgot-password",className:"text-sm text-rasf-600 hover:text-rasf-700",children:"Mot de passe oubli\xe9 ?"})}),(0,s.jsx)(o.$,{type:"submit",fullWidth:!0,isLoading:b,children:"Se connecter"})]})]}),(0,s.jsxs)("p",{className:"mt-6 text-center text-sm text-gray-600",children:["Pas encore de compte ?"," ",(0,s.jsx)(i(),{href:"/auth/register",className:"text-rasf-600 hover:text-rasf-700 font-medium",children:"Contactez le RASF"})]})]})})}function f(){return(0,s.jsx)(t.Suspense,{fallback:(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-rasf-50 to-rasf-100",children:(0,s.jsx)("div",{className:"w-8 h-8 border-4 border-rasf-500 border-t-transparent rounded-full animate-spin"})}),children:(0,s.jsx)(x,{})})}},9239:(e,r,a)=>{"use strict";a.d(r,{$:()=>d});var s=a(5155),t=a(2115);let l={primary:"bg-rasf-600 text-white hover:bg-rasf-700 focus:ring-rasf-500 disabled:bg-rasf-300",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 focus:ring-gray-500 disabled:bg-gray-50",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 disabled:bg-red-300",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500",outline:"bg-transparent text-rasf-600 border-2 border-rasf-600 hover:bg-rasf-50 focus:ring-rasf-500"},n={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"},d=(0,t.forwardRef)(({variant:e="primary",size:r="md",isLoading:a=!1,fullWidth:t=!1,className:d="",disabled:i,children:o,...c},u)=>(0,s.jsxs)("button",{ref:u,disabled:i||a,className:`
          inline-flex items-center justify-center font-medium rounded-lg
          transition-colors duration-200
          focus:outline-none focus:ring-2 focus:ring-offset-2
          disabled:cursor-not-allowed
          ${l[e]}
          ${n[r]}
          ${t?"w-full":""}
          ${d}
        `,...c,children:[a&&(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o]}));d.displayName="Button"}},e=>{e.O(0,[8500,7882,8441,6511,7358],()=>e(e.s=5851)),_N_E=e.O()}]);