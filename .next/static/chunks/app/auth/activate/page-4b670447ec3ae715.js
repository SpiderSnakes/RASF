(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5327],{529:(e,r,a)=>{"use strict";a.d(r,{p:()=>t});var s=a(5155);let t=(0,a(2115).forwardRef)(({label:e,error:r,helperText:a,className:t="",id:l,...n},i)=>{let o=l||e?.toLowerCase().replace(/\s/g,"-");return(0,s.jsxs)("div",{className:"w-full",children:[e&&(0,s.jsx)("label",{htmlFor:o,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),(0,s.jsx)("input",{ref:i,id:o,className:`
            block w-full px-3 py-2 
            bg-white text-gray-900
            border rounded-lg shadow-sm
            placeholder-gray-400
            focus:outline-none focus:ring-2 focus:ring-rasf-500 focus:border-rasf-500
            disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed
            ${r?"border-red-500":"border-gray-300"}
            ${t}
          `,suppressHydrationWarning:!0,...n}),r&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:r}),a&&!r&&(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:a})]})});t.displayName="Input"},1477:(e,r,a)=>{"use strict";a.d(r,{Wu:()=>o,ZB:()=>i,Zp:()=>l,aR:()=>n});var s=a(5155),t=a(2115);let l=(0,t.forwardRef)(({variant:e="default",className:r="",children:a,...t},l)=>(0,s.jsx)("div",{ref:l,className:`rounded-xl p-6 ${{default:"bg-white border border-gray-200",bordered:"bg-white border-2 border-gray-300",elevated:"bg-white shadow-lg"}[e]} ${r}`,...t,children:a}));l.displayName="Card";let n=(0,t.forwardRef)(({className:e="",children:r,...a},t)=>(0,s.jsx)("div",{ref:t,className:`mb-4 ${e}`,...a,children:r}));n.displayName="CardHeader";let i=(0,t.forwardRef)(({className:e="",children:r,...a},t)=>(0,s.jsx)("h3",{ref:t,className:`text-lg font-semibold text-gray-900 ${e}`,...a,children:r}));i.displayName="CardTitle";let o=(0,t.forwardRef)(({className:e="",children:r,...a},t)=>(0,s.jsx)("div",{ref:t,className:e,...a,children:r}));o.displayName="CardContent"},1919:(e,r,a)=>{Promise.resolve().then(a.bind(a,6091))},3321:(e,r,a)=>{"use strict";var s=a(4645);a.o(s,"usePathname")&&a.d(r,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(r,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(r,{useSearchParams:function(){return s.useSearchParams}})},5283:(e,r,a)=>{"use strict";a.d(r,{F:()=>i});var s=a(5155),t=a(2115);let l={info:{container:"bg-blue-50 border-blue-200 text-blue-800",icon:"text-blue-400"},success:{container:"bg-green-50 border-green-200 text-green-800",icon:"text-green-400"},warning:{container:"bg-amber-50 border-amber-200 text-amber-800",icon:"text-amber-400"},error:{container:"bg-red-50 border-red-200 text-red-800",icon:"text-red-400"}},n={info:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),success:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),warning:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),error:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})},i=(0,t.forwardRef)(({variant:e="info",title:r,className:a="",children:t,...i},o)=>{let d=l[e];return(0,s.jsxs)("div",{ref:o,className:`
          flex items-start p-4 border rounded-lg
          ${d.container}
          ${a}
        `,role:"alert",...i,children:[(0,s.jsx)("div",{className:`flex-shrink-0 ${d.icon}`,children:n[e]}),(0,s.jsxs)("div",{className:"ml-3",children:[r&&(0,s.jsx)("h3",{className:"text-sm font-medium",children:r}),(0,s.jsx)("div",{className:`text-sm ${r?"mt-1":""}`,children:t})]})]})});i.displayName="Alert"},6091:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>f});var s=a(5155),t=a(2115),l=a(3321),n=a(8500),i=a.n(n),o=a(9239),d=a(529),c=a(5283),m=a(1477);function u(){let e=(0,l.useRouter)(),r=(0,l.useSearchParams)().get("token"),[a,n]=(0,t.useState)(""),[u,f]=(0,t.useState)(""),[x,h]=(0,t.useState)(!1),[g,p]=(0,t.useState)(null),[b,v]=(0,t.useState)(!1),j=async s=>{if(s.preventDefault(),p(null),!r)return void p("Token d'activation manquant");if(a.length<8)return void p("Le mot de passe doit contenir au moins 8 caract\xe8res");if(a!==u)return void p("Les mots de passe ne correspondent pas");h(!0);try{let s=await fetch("/api/auth/activate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:r,password:a})}),t=await s.json();if(!s.ok)throw Error(t.error||"Erreur lors de l'activation");v(!0),setTimeout(()=>{e.push("/auth/login")},3e3)}catch(e){p(e instanceof Error?e.message:"Une erreur est survenue")}finally{h(!1)}};return r?b?(0,s.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 bg-gradient-to-br from-rasf-50 to-rasf-100",children:(0,s.jsxs)(m.Zp,{variant:"elevated",className:"max-w-md w-full",children:[(0,s.jsx)(c.F,{variant:"success",title:"Compte activ\xe9 !",children:"Votre compte a \xe9t\xe9 activ\xe9 avec succ\xe8s. Vous allez \xeatre redirig\xe9 vers la page de connexion..."}),(0,s.jsx)("div",{className:"mt-4 text-center",children:(0,s.jsx)(i(),{href:"/auth/login",className:"text-rasf-600 hover:text-rasf-700",children:"Se connecter maintenant"})})]})}):(0,s.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 bg-gradient-to-br from-rasf-50 to-rasf-100",children:(0,s.jsxs)("div",{className:"w-full max-w-md",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("div",{className:"w-16 h-16 rounded-full bg-rasf-600 flex items-center justify-center mx-auto shadow-lg",children:(0,s.jsx)("span",{className:"text-white text-2xl font-bold",children:"R"})}),(0,s.jsx)("h1",{className:"mt-4 text-2xl font-bold text-gray-900",children:"RASF"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Activation de votre compte"})]}),(0,s.jsxs)(m.Zp,{variant:"elevated",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2 text-center",children:"D\xe9finissez votre mot de passe"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-6 text-center",children:"Choisissez un mot de passe s\xe9curis\xe9 pour acc\xe9der \xe0 votre compte."}),g&&(0,s.jsx)(c.F,{variant:"error",className:"mb-4",children:g}),(0,s.jsxs)("form",{onSubmit:j,className:"space-y-4",children:[(0,s.jsx)(d.p,{label:"Nouveau mot de passe",type:"password",value:a,onChange:e=>n(e.target.value),placeholder:"••••••••",helperText:"Minimum 8 caract\xe8res",required:!0,autoComplete:"new-password"}),(0,s.jsx)(d.p,{label:"Confirmer le mot de passe",type:"password",value:u,onChange:e=>f(e.target.value),placeholder:"••••••••",required:!0,autoComplete:"new-password"}),(0,s.jsx)(o.$,{type:"submit",fullWidth:!0,isLoading:x,children:"Activer mon compte"})]})]})]})}):(0,s.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 bg-gradient-to-br from-rasf-50 to-rasf-100",children:(0,s.jsxs)(m.Zp,{variant:"elevated",className:"max-w-md w-full",children:[(0,s.jsx)(c.F,{variant:"error",children:"Lien d'activation invalide. V\xe9rifiez le lien re\xe7u par email ou contactez l'administrateur."}),(0,s.jsx)("div",{className:"mt-4 text-center",children:(0,s.jsx)(i(),{href:"/auth/login",className:"text-rasf-600 hover:text-rasf-700",children:"Retour \xe0 la connexion"})})]})})}function f(){return(0,s.jsx)(t.Suspense,{fallback:(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-rasf-50 to-rasf-100",children:(0,s.jsx)("div",{className:"w-8 h-8 border-4 border-rasf-500 border-t-transparent rounded-full animate-spin"})}),children:(0,s.jsx)(u,{})})}},9239:(e,r,a)=>{"use strict";a.d(r,{$:()=>i});var s=a(5155),t=a(2115);let l={primary:"bg-rasf-600 text-white hover:bg-rasf-700 focus:ring-rasf-500 disabled:bg-rasf-300",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 focus:ring-gray-500 disabled:bg-gray-50",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 disabled:bg-red-300",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500",outline:"bg-transparent text-rasf-600 border-2 border-rasf-600 hover:bg-rasf-50 focus:ring-rasf-500"},n={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"},i=(0,t.forwardRef)(({variant:e="primary",size:r="md",isLoading:a=!1,fullWidth:t=!1,className:i="",disabled:o,children:d,...c},m)=>(0,s.jsxs)("button",{ref:m,disabled:o||a,className:`
          inline-flex items-center justify-center font-medium rounded-lg
          transition-colors duration-200
          focus:outline-none focus:ring-2 focus:ring-offset-2
          disabled:cursor-not-allowed
          ${l[e]}
          ${n[r]}
          ${t?"w-full":""}
          ${i}
        `,...c,children:[a&&(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d]}));i.displayName="Button"}},e=>{e.O(0,[8500,8441,6511,7358],()=>e(e.s=1919)),_N_E=e.O()}]);